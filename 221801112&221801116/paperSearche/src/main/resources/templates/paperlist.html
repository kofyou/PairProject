<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>left</title>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="layui/css/layui.css">
    <script type="text/javascript" src="js/left.js"></script>
    <link rel="stylesheet" type="text/css" href="css/left.css">
    <link rel="stylesheet" type="text/css" href="public/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="public/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="public/css/demo.css" />
    <link rel="icon" href="favicon.ico" >
    <script src="https://cdn.bootcss.com/jquery/3.4.1/core.js"></script>
    <script src="layui/layui.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--å¿…è¦æ ·å¼-->
    <link rel="stylesheet" type="text/css" href="public/css/set.css" />
    <script>
        function fromSearch() {
            var keyword = localStorage.getItem("searchInfo")
            if(keyword!=""){
                document.getElementById("input-32").value = keyword;
                search();
            }
        }
    </script>
    </head>
    <body onload="fromSearch()">

    <!--    å›åˆ°é¡¶éƒ¨-->
    <div id="backUp" style="z-index: 9999; position: fixed ! important; right: 5px; bottom: 70px;cursor: pointer">
        <img src="image/fanhuidingbucopy.png" />
    </div>


        <!--    é¡¶éƒ¨å¯¼èˆªæ -->
    <div class="nav">
        <ul class="fl">
            <li><a href=""><img src="image/logo2.jpg" alt="" class="logo"></a></li>
        </ul>
        <ul class="fr">
            <li><div class="eg"><img src="/image/cat.jfif" alt="" class="touxiang"></div></li>
            <li class="userName"><a href="/login" th:text="${session.userName}" style="font-size: 16px;text-decoration: none;color: white"></a> </li>
        </ul>
    </div>

    <!--ä¾§è¾¹å¯¼èˆªæ -->
    <div class="content-csk">
        <div class="open-csk" id="open"><span class="left-span-csk">ğŸˆæ‰“å¼€å¯¼èˆª</span></div>
        <div class="content-left-csk" id="left" style="height: 1500px">
            <div class="myclose-csk" id="myclose"><span class="left-span-csk">âŒæ”¶èµ·å¯¼èˆª</span></div>
            <div class="left-title-csk">
<!--                <img src="image/098zhome01.png" class="left-title-icon-csk">-->
                <a href="/t">ğŸŒ„å›åˆ°ä¸»é¡µ</a>
            </div>
            <div class="nav-title-csk">
                <a href="/getKeyWordCloud">ğŸ–‹ï¸è¯äº‘åˆ†æ</a>
            </div>
            <div class="nav-title2-csk">
<!--                <img src="image/041preview.png" class="nav-title2-icon-csk">-->
                <a href="/left">ğŸ“–è®ºæ–‡åˆ—è¡¨</a>
            </div>
            <div class="nav-title3-csk">
                <!--                <img src="image/041preview.png" class="nav-title2-icon-csk">-->
                <a href="/spider">ğŸ”–è®ºæ–‡çˆ¬å–</a>
            </div>
        </div>
    </div>




        <!--è®ºæ–‡å¡ç‰‡è¡¨æ ¼-->
    <div class="mytable">
        <div id="myblock1">
            <span class="input input--manami" style="margin-top: 20px">
			<input class="input__field input__field--manami" type="text" id="input-32" autocomplete="off"/>
			<label class="input__label input__label--manami" for="input-32">
				<span id="myinput1" class="input__label-content input__label-content--manami">è¾“å…¥å…³é”®è¯æˆ–æ ‡é¢˜æœç´¢</span>
			</label>
		    </span>
            <button id="mybutton" class="layui-btn layui-btn-radius" onclick="search()" th:text="å¼€å§‹æœç´¢"></button>
            <button id="mybuttonadd" onclick="cleartext()" data-toggle="modal" data-target="#myModal" class="layui-btn layui-btn-radius layui-btn-danger" th:text="å¢åŠ è®ºæ–‡"></button>
        </div>
        <table id="currentTableId"></table>
    </div>

        <!-- æ¨¡æ€æ¡†ï¼ˆModalï¼‰ -->
    <div  class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"  style="border: none">
    <div class="modal-dialog" style="border: none">
        <div class="modal-content" style="border: none">
            <div class="modal-header" style="border: none">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel" style="border: none">
                </h4>
                <form class="form-horizontal" method="post" action="/update" style="border: none">
                    <fieldset style="border: none">
                        <!-- Form Name -->
                        <legend id="paper_id">Form Name</legend>
                        <!-- Textarea -->
                        <input type="text" id="paperId" name="paperId" style="display: none">
                        <div class="control-group">
                            <label class="control-label" for="textarea-title">PUBLICATION TITLE</label>
                            <div class="controls">
                                <textarea id="textarea-title" name="textarea-title" style="height: 40px;width: 500px;border-radius: 2%"></textarea>
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label" for="textarea-year">PUBLICATION YEAR</label>
                            <div class="controls">
                                <textarea id="textarea-year" name="textarea-year" style="height: 40px;width: 500px;border-radius: 2%"></textarea>
                            </div>
                        </div>

                        <div class="control-group">
                            <a class="control-label" for="textarea-link" id="textarea-linka" herf="" style="cursor: pointer" onclick="aclick()">PERSISTENT LINK</a>
                            <div class="controls">
                                <textarea id="textarea-link" name="textarea-link" style="height: 40px;width: 500px;border-radius: 2%"></textarea>
                            </div>
                        </div>



                        <!-- Textarea -->
                        <div class="control-group">
                            <label class="control-label" for="textarea-key">KEYWORDS</label>
                            <div class="controls">
                                <textarea id="textarea-key" name="textarea-key" style="height: 120px;width: 500px;border-radius: 2%"></textarea>
                            </div>
                        </div>

                        <!-- Textarea -->
                        <div class="control-group">
                            <label class="control-label" for="textarea-abstract">ABSTRACT</label>
                            <div class="controls">
                                <textarea id="textarea-abstract" name="textarea-abstract" style="height: 350px;width: 500px;border-radius: 2%"></textarea>
                            </div>
                        </div>

                        <div style="margin-top: 25px">
                            <button class="layui-btn layui-btn-radius layui-btn-normal" type="submit" th:text="ç¡®å®šä¿®æ”¹" formaction="/update"></button>
                            <button class="layui-btn layui-btn-radius" type="submit" th:text="ç¡®å®šåˆ é™¤" formaction="/delete"></button>
                            <button class="layui-btn layui-btn-radius layui-btn-danger"  th:text="ç¡®å®šå¢åŠ " formaction="/insert"></button>
                            <button class="layui-btn layui-btn-radius layui-btn-warm" data-dismiss="modal" th:text="å…³é—­çª—å£"></button>
                        </div>


                    </fieldset>
                </form>
            </div>
            <div class="modal-body" style="border: none">
            </div>
            <div class="modal-footer" style="border: none">
                <!--                    <button type="button" class="btn btn-default" data-dismiss="modal">å…³é—­-->
                <!--                    </button>-->
                <!--                    <button type="button" class="btn btn-primary">-->
                <!--                        æäº¤æ›´æ”¹-->
                <!--                    </button>-->
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

    <script>

        function aclick(){
            var link = document.getElementById("textarea-link").value;
            window.open(link)
        }

        $('#backUp').click(function () { $('html,body').animate({ scrollTop: '0px' }, 850); return false; });
        layui.config({
            base: 'cardTable/' //é…ç½® layui ç¬¬ä¸‰æ–¹æ‰©å±•ç»„ä»¶å­˜æ”¾çš„åŸºç¡€ç›®å½•
        })
        layui.use(['table', 'form', 'jquery', 'cardTable'], function () {
            let table = layui.table;
            let form = layui.form;
            let $ = layui.jquery;
            let cardTable = layui.cardTable;
            var key = localStorage.getItem("searchInfo");
            if(key!=""){
                localStorage.setItem("searchInfo","");
            }else{
                cardTable.render({
                    elem: '#currentTableId',
                    url: 'getLimitPaper',
                })
            }

        })


        function cleartext(){
            document.getElementById("textarea-title").value = "";
            document.getElementById("textarea-link").value = "";
            document.getElementById("textarea-linka").herf = "#";
            document.getElementById("textarea-abstract").value = "";
            document.getElementById("textarea-key").value = "";
            document.getElementById("textarea-year").value = "";
            document.getElementById("paper_id").innerText = "Form Name";
            document.getElementById("paperId").value = "";
        }


        function search(){
            var keyword = document.getElementById("input-32");
            var keys = keyword.value;
            keyword.value = "";
            if(keys==""){
                document.getElementById("myinput1").innerText = "è¯·è¾“å…¥å…³é”®è¯æˆ–æ ‡é¢˜æœç´¢";
            }else{
                document.getElementById("myinput1").innerText = keys;
            }

            layui.use(['cardTable'], function () {
                let cardTable = layui.cardTable;

                cardTable.render({
                    elem: '#currentTableId',
                    url: '/searchByKeyWord?keywords='+keys,
                })
            })
        }
    </script>

</body>
</html>